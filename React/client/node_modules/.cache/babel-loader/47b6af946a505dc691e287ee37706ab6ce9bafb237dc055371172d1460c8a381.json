{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jjong\\\\Desktop\\\\React\\\\client\\\\src\\\\Component\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport List from \"./Post/List.js\";\nimport axios from \"axios\";\nimport { DropdownButton, Dropdown } from \"react-bootstrap\";\nimport { GNBDiv, FooterDiv } from \"../Style/SearchPageCSS.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [PostList, setPostList] = useState([]);\n  const [Sort, setSort] = useState(\"newest\");\n  const [SearchTerm, setSearchTerm] = useState(\"\");\n  const [Skip, setSkip] = useState(0);\n  const [LoadMore, setLoadMore] = useState(true);\n  const getLoadMore = () => {\n    let body = {\n      sort: Sort,\n      searchTerm: SearchTerm,\n      skip: Skip\n    };\n    axios.post(\"/api/post/list\", body).then(response => {\n      if (response.data.success) {\n        setPostList([...PostList, ...response.data.postList]);\n        setSkip(Skip + response.data.postList.length);\n        if (response.data.postList.length < 5) {\n          setLoadMore(false);\n        }\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const getPostList = () => {\n    setSkip(0);\n    let body = {\n      sort: Sort,\n      searchTerm: SearchTerm,\n      skip: 0\n    };\n    axios.post(\"/api/post/list\", body).then(response => {\n      if (response.data.success) {\n        setPostList([...response.data.postList]);\n        setSkip(response.data.postList.length);\n        if (response.data.postList.length < 5) {\n          setLoadMore(false);\n        }\n        if (response.data.postList.length == 0) {\n          setLoadMore(false);\n        }\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  useEffect(() => {\n    getPostList();\n  }, [Sort]);\n  const SearchHandler = () => {\n    getPostList();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(GNBDiv, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: SearchTerm,\n          onChange: e => setSearchTerm(e.currentTarget.value),\n          onKeyDown: e => {\n            if (e.keyCode === 13) SearchHandler();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => SearchHandler(),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DropdownButton, {\n        variant: \"outline-secondary\",\n        title: Sort,\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => setSort(\"newest\"),\n          children: \"Sort by Newest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: () => setSort(\"popularity\"),\n          children: \"Sort by Popularity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(List, {\n      PostList: PostList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), LoadMore && /*#__PURE__*/_jsxDEV(FooterDiv, {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginBottom: \"10vh\"\n        },\n        onClick: () => getLoadMore(),\n        children: \"Load More\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"bPltG3tEFegIdg5l/Ir1rE99Uzs=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useState","useEffect","List","axios","DropdownButton","Dropdown","GNBDiv","FooterDiv","jsxDEV","_jsxDEV","HomePage","_s","PostList","setPostList","Sort","setSort","SearchTerm","setSearchTerm","Skip","setSkip","LoadMore","setLoadMore","getLoadMore","body","sort","searchTerm","skip","post","then","response","data","success","postList","length","catch","err","console","log","getPostList","SearchHandler","children","className","type","value","onChange","e","currentTarget","onKeyDown","keyCode","fileName","_jsxFileName","lineNumber","columnNumber","onClick","variant","title","Item","style","marginBottom","_c","$RefreshReg$"],"sources":["C:/Users/jjong/Desktop/React/client/src/Component/HomePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport List from \"./Post/List.js\";\r\nimport axios from \"axios\";\r\nimport { DropdownButton, Dropdown } from \"react-bootstrap\";\r\nimport { GNBDiv, FooterDiv } from \"../Style/SearchPageCSS.js\";\r\n\r\nfunction HomePage() {\r\n  const [PostList, setPostList] = useState([]);\r\n  const [Sort, setSort] = useState(\"newest\");\r\n  const [SearchTerm, setSearchTerm] = useState(\"\");\r\n  const [Skip, setSkip] = useState(0);\r\n  const [LoadMore, setLoadMore] = useState(true);\r\n\r\n  const getLoadMore = () => {\r\n    let body = {\r\n      sort: Sort,\r\n      searchTerm: SearchTerm,\r\n      skip: Skip,\r\n    };\r\n    axios\r\n      .post(\"/api/post/list\", body)\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          setPostList([...PostList, ...response.data.postList]);\r\n          setSkip(Skip + response.data.postList.length);\r\n          if (response.data.postList.length < 5) {\r\n            setLoadMore(false);\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const getPostList = () => {\r\n    setSkip(0);\r\n\r\n    let body = {\r\n      sort: Sort,\r\n      searchTerm: SearchTerm,\r\n      skip: 0,\r\n    };\r\n\r\n    axios\r\n      .post(\"/api/post/list\", body)\r\n      .then((response) => {\r\n        if (response.data.success) {\r\n          setPostList([...response.data.postList]);\r\n          setSkip(response.data.postList.length);\r\n          if (response.data.postList.length < 5) {\r\n            setLoadMore(false);\r\n          }\r\n          if (response.data.postList.length == 0) {\r\n            setLoadMore(false);\r\n          }\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPostList();\r\n  }, [Sort]);\r\n\r\n  const SearchHandler = () => {\r\n    getPostList();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GNBDiv>\r\n        <div className=\"search\">\r\n          <input\r\n            type=\"text\"\r\n            value={SearchTerm}\r\n            onChange={(e) => setSearchTerm(e.currentTarget.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.keyCode === 13) SearchHandler();\r\n            }}\r\n          />\r\n          <button onClick={() => SearchHandler()}>\r\n            <i className=\"bi bi-search\"></i>\r\n          </button>\r\n        </div>\r\n\r\n        <DropdownButton variant=\"outline-secondary\" title={Sort}>\r\n          <Dropdown.Item onClick={() => setSort(\"newest\")}>\r\n          Sort by Newest\r\n          </Dropdown.Item>\r\n          <Dropdown.Item onClick={() => setSort(\"popularity\")}>\r\n          Sort by Popularity\r\n          </Dropdown.Item>\r\n        </DropdownButton>\r\n      </GNBDiv>\r\n      <List PostList={PostList} />\r\n      {LoadMore && (\r\n        <FooterDiv>\r\n          <button\r\n            style={{ marginBottom: \"10vh\" }}\r\n            onClick={() => getLoadMore()}\r\n          >\r\n            Load More\r\n          </button>\r\n        </FooterDiv>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}